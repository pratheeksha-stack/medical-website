(function(g){var window=this;'use strict';var SM=function(W){W.publish("cardstatechange",W.w$()&&W.J$()?1:0)},B9=function(W,e){var l=g.IG(e),K=l?e:arguments;
for(l=l?0:1;l<K.length;l++){if(W==null)return;W=W[K[l]]}return W},ipx=function(W){var e=g.R1(W);
W=g.S5(W);return new g.t0(e.x,e.y,W.width,W.height)},KuJ=function(W,e,l){var K=K===void 0?{}:K;
var t;return t=g.BU(W,e,function(){g.hh(t);l.apply(W,arguments)},K)},ge=function(W){W=g.ma(W);
delete hE[W];g.D0(hE)&&ob&&ob.stop()},ah_=function(){ob||(ob=new g.IP(function(){tNJ()},20));
var W=ob;W.isActive()||W.start()},tNJ=function(){var W=g.eU();
g.gf(hE,function(e){r62(e,W)});
g.D0(hE)||ah_()},p5=function(W,e,l,K){g.$0.call(this);
if(!Array.isArray(W)||!Array.isArray(e))throw Error("Start and end parameters must be arrays");if(W.length!=e.length)throw Error("Start and end points must be the same length");this.K=W;this.B=e;this.duration=l;this.C=K;this.coords=[];this.progress=this.V=0;this.J=null},r62=function(W,e){e<W.startTime&&(W.endTime=e+W.endTime-W.startTime,W.startTime=e);
W.progress=(e-W.startTime)/(W.endTime-W.startTime);W.progress>1&&(W.progress=1);W.V=1E3/(e-W.J);W.J=e;kj3(W,W.progress);W.progress==1?(W.L=0,ge(W),W.onFinish(),W.PD()):W.isPlaying()&&W.IW()},kj3=function(W,e){typeof W.C==="function"&&(e=W.C(e));
W.coords=Array(W.K.length);for(var l=0;l<W.K.length;l++)W.coords[l]=(W.B[l]-W.K[l])*e+W.K[l]},bp3=function(W,e){g.qZ.call(this,W);
this.coords=e.coords;this.x=e.coords[0];this.y=e.coords[1];this.z=e.coords[2];this.duration=e.duration;this.progress=e.progress;this.fps=e.V;this.state=e.L},VB=function(W,e,l,K,t){p5.call(this,e,l,K,t);
this.element=W},$V3=function(W,e,l,K,t){if(e.length!=2||l.length!=2)throw Error("Start and end points must be 2D");
VB.call(this,W,e,l,K,t)},MNK=function(W){return Math.pow(W,3)},wX3=function(W){return 3*W*W-2*W*W*W},UVn=function(W){g.H.call(this);
this.K=W||window;this.L=[]},sn=function(W){return W.baseUrl||null},ZH=function(W,e){return g.k3(g.g4(W,e),function(l){return!!l})},CE3=function(W,e,l){function K(aG){var Wf=aG.hovercardButton;
if(!Wf)return null;Wf=Wf.subscribeButtonRenderer;if(!Wf)return null;var G=a(Wf.unsubscribedButtonText),m=a(Wf.subscribedButtonText);if(Wf.subscribed){var c=a(Wf.subscriberCountWithUnsubscribeText);var T=a(Wf.subscriberCountText)}else c=a(Wf.subscriberCountText),T=a(Wf.subscriberCountWithSubscribeText);var Pf=null;if(aG.signinEndpoint){Pf=B9(aG,"signinEndpoint","webNavigationEndpointData","url");if(!Pf){var on,dx;Pf=(dx=g.f((on=Wf.signInEndpoint)==null?void 0:on.commandMetadata,g.C8))==null?void 0:
dx.url}if(!Pf)return null}return G&&(m||Pf)?{subscribed:Wf.subscribed,subscribeText:G,subscribeCount:c,unsubscribeText:m,unsubscribeCount:T,enabled:Wf.enabled,signinUrl:Pf,classic:aG.useClassicSubscribeButton}:null}
function t(aG){if(aG){var Wf=[],G=aG.videoId;G&&Wf.push("v="+G);(G=aG.playlistId)&&Wf.push("list="+G);(aG=aG.startTimeSeconds)&&Wf.push("t="+aG);return"/watch?"+Wf.join("&")}}
function a(aG){if(!aG)return null;var Wf=aG.simpleText;return Wf?Wf:aG.runs?g.g4(aG.runs,function(G){return G.text}).join(""):null}
e=e.endscreenElementRenderer;if(!e)return null;var r=e.style,b=e.endpoint||{},M=null,w=null,U=!1,C=null,Q=null,d=null,N=null,S=!1,h=null,V=null,Y=null,A=null,v=null,q=null;if(r==="VIDEO")g.f(b,g.vI)?M=g.f(b,g.vI).url:(q=g.f(b,g.mj),M=t(q)),w=!1,C=W,e.thumbnailOverlays?(U=e.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,Q=a(U.text),U=U.style==="LIVE"):Q=a(e.videoDuration);else if(r==="PLAYLIST")g.f(b,g.vI)?M=g.f(b,g.vI).url:(q=g.f(b,g.mj),M=t(q)),w=!1,C=W,d=a(e.playlistLength);else if(r===
"CHANNEL"){if(S=B9(b,"browseEndpoint","browseId"))N=S,M="/channel/"+N;w=!1;C="new";(S=!!e.isSubscribe)?h=K(e):V=a(e.subscribersText)}else r==="WEBSITE"?((Y=B9(b,"urlEndpoint","url"))&&(M=Y),w=!0,C="new",Y=e.icon.thumbnails[0].url):r==="CREATOR_MERCHANDISE"&&(e.productPrice&&(A=a(e.productPrice)),e.additionalFeesText&&(v=a(e.additionalFeesText)),(w=B9(b,"urlEndpoint","url"))&&(M=w),w=!0,C="new");W=B9(e,"title","accessibility","accessibilityData","label");var X=e.endpoint?e.endpoint.clickTrackingParams:
null,y="";if(e.metadata){var iC=a(e.metadata);iC&&(y=iC)}return{id:"element-"+l,type:r,title:a(e.title),metadata:y,callToAction:a(e.callToAction),tL:e.image,iconUrl:Y,left:Number(e.left),width:Number(e.width),top:Number(e.top),aspectRatio:Number(e.aspectRatio),startMs:Math.floor(Number(e.startMs)),endMs:Math.floor(Number(e.endMs)),videoDuration:Q,BT:U,playlistLength:d,channelId:N,subscribeButton:h,subscribersText:V,isSubscribe:S,targetUrl:M||null,rSN:w,sessionData:X?{itct:X}:null,QkT:C,Gs:W?W:null,
isPlaceholder:e.isPlaceholder,impressionUrls:ZH(e.impressionUrls||[],sn),jrS:ZH(e.hovercardShowUrls||[],sn),clickUrls:ZH(b.loggingUrls||[],sn),visualElement:g.h8(e.trackingParams),productPrice:A,additionalFeesText:v,watchEndpoint:q||null}},QNn=function(W,e){var l={startMs:Math.floor(Number(W.startMs)),
impressionUrls:ZH(W.impressionUrls||[],sn),elements:ZH(W.elements||[],function(K,t){return CE3(e,K,t)})};
W.trackingParams&&(l.visualElement=g.h8(W.trackingParams));return l},dVs=function(W){g.b3.call(this,W);
this.J=this.endscreen=null;this.K={};this.V={};this.C=this.X=null;this.N=[];this.L=null;this.KP=!0;this.B=0;W=W.U();this.T=g.Ae(W)||g.Dz(W);this.events=new g.DF(this);g.P(this,this.events);this.events.G(this.player,g.tF("creatorendscreen"),this.onCueRangeEnter);this.events.G(this.player,g.aa("creatorendscreen"),this.onCueRangeExit);this.events.G(this.player,"resize",this.QT);this.events.G(window,"focus",this.TWS);this.load();var e=g.aE("STYLE");(g.mA("HEAD")[0]||document.body).appendChild(e);this.addOnDisposeCallback(function(){g.MZ(e)});
e.sheet&&(e.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),e.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},NDs=function(W){return W.player.getVideoData().IQ?"current":W.T?"new":"current"},FN=function(W){return W.player.U().playerStyle==="creator-endscreen-editor"},R9C=function(W){var e=W.player.getVideoData(),l=e.videoId;
W.J&&W.J.abort();l={method:"POST",onFinish:function(t){var a=W.J=null;t.status===200&&(t=t.responseText,t.substring(0,3)===")]}"&&(t=t.substring(3),a=JSON.parse(t),a=QNn(a,NDs(W))));Yy(W,a)},
urlParams:{v:l},withCredentials:!0};W.T&&(l.urlParams.ptype="embedded");var K=e.oa;K&&(l.postParams={ad_tracking:K});if(e=g.asf(e))if(e=g.EH(e),e=g.Dh(e))W.J=g.oh(e,l)},Yy=function(W,e,l){l=l===void 0?!0:l;
W.player.Pw("creatorendscreen");W.X&&(W.X.dispose(),W.X=null,W.C.dispose(),W.C=null);for(var K=g.u(Object.values(W.K)),t=K.next();!t.done;t=K.next())t.value.dispose();W.K={};W.V={};W.N.length>0&&(W.N.forEach(function(b){b.dispose()}),W.N.length=0);
W.L&&(g.rw(W.L,"ytp-ce-element-show"),W.L.setAttribute("aria-hidden","true"));W.B=0;if((W.endscreen=e)&&e.elements){l&&uF_(W);l=[];K=new g.ip(e.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});l.push(K);W.player.U().K||(W.X=new g.x({Z:"div",Y:"ytp-ce-shadow"}),g.Lg(W.player,W.X.element,4),W.C=new g.eC(W.X,200));for(K=0;K<e.elements.length;++K){t=e.elements[K];var a=c6v(W,t);if(a){W.K[t.id]=a;W.V[t.id]=t;g.Lg(W.player,a.element,4);var r=new g.ip(t.startMs,t.endMs,{id:"ytp-ce-element-"+
t.id,namespace:"creatorendscreen"});l.push(r);SHK(W,a,t)}else g.DX(new g.I$("buildEndscreenElement null",t))}W.player.Ax(l);W.QT()}},uF_=function(W){var e=g.gt(),l=g.pc();
l&&e&&W.endscreen.visualElement&&g.mf(g.yA)(void 0,l,e,W.endscreen.visualElement)},c6v=function(W,e){var l=null;
switch(e.type){case "VIDEO":W={Z:"div",CP:["ytp-ce-element","ytp-ce-video"],D:{tabindex:"0","aria-label":e.Gs||"","aria-hidden":"true"},j:[{Z:"div",Y:"ytp-ce-element-shadow"},{Z:"div",Y:"ytp-ce-covering-image",D:On(e)},{Z:"div",Y:"ytp-ce-covering-shadow-top"},{Z:"a",Y:"ytp-ce-covering-overlay",D:{href:AE(W,e.targetUrl),tabindex:"-1"},j:[{Z:"div",CP:["ytp-ce-video-title","ytp-webkit-ellipsis"],D:{dir:g.Qb(e.title||"")},d2:e.title},{Z:"div",Y:e.BT?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
d2:e.videoDuration||void 0}]}]};l=new g.x(W);break;case "PLAYLIST":W={Z:"div",CP:["ytp-ce-element","ytp-ce-playlist"],D:{tabindex:"0","aria-label":e.Gs||"","aria-hidden":"true"},j:[{Z:"div",Y:"ytp-ce-element-shadow"},{Z:"div",Y:"ytp-ce-covering-image",D:On(e)},{Z:"div",Y:"ytp-ce-covering-shadow-top"},{Z:"a",Y:"ytp-ce-covering-overlay",D:{href:AE(W,e.targetUrl),tabindex:"-1"},j:[{Z:"div",CP:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],D:{dir:g.Qb(e.title||"")},d2:e.title},{Z:"div",Y:"ytp-ce-playlist-count",
j:[{Z:"div",Y:"ytp-ce-playlist-icon"},{Z:"div",Y:"ytp-ce-playlist-count-text",d2:e.playlistLength||void 0}]}]}]};l=new g.x(W);break;case "CHANNEL":l={Z:"div",CP:["ytp-ce-element","ytp-ce-channel",e.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],D:{tabindex:"0","aria-label":e.Gs||"","aria-hidden":"true"},j:[{Z:"div",Y:"ytp-ce-element-shadow"},{Z:"div",Y:"ytp-ce-expanding-overlay",j:[{Z:"div",Y:"ytp-ce-expanding-overlay-hider"},{Z:"div",Y:"ytp-ce-expanding-overlay-background"},{Z:"div",Y:"ytp-ce-expanding-overlay-content",
j:[{Z:"div",Y:"ytp-ce-expanding-overlay-body",j:[{Z:"div",Y:"ytp-ce-expanding-overlay-body-padding",j:[{Z:"a",CP:["ytp-ce-channel-title","ytp-ce-link"],D:{href:AE(W,e.targetUrl),target:"_blank",tabindex:"-1",dir:g.Qb(e.title||"")},d2:e.title},e.subscribeButton?{Z:"div",Y:"ytp-ce-subscribe-container",j:[{Z:"div",Y:"ytp-ce-channel-subscribe"}]}:"",e.subscribersText?{Z:"div",Y:"ytp-ce-channel-subscribers-text",d2:e.subscribersText}:"",e.metadata?{Z:"div",CP:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],d2:e.metadata}:""]}]}]}]},{Z:"div",Y:"ytp-ce-expanding-image",D:On(e)}]};l=new g.x(l);var K=g.Wm(document,"div","ytp-ce-channel-subscribe",l.element)[0];if(e.subscribeButton&&e.channelId){g.tc(K,"ytp-ce-subscribe-button");if(W.player.U().K){var t=null;var a=e.sessionData.itct}else t="endscreen",a=null;t=new g.Gt(e.subscribeButton.subscribeText,e.subscribeButton.subscribeCount,e.subscribeButton.unsubscribeText,e.subscribeButton.unsubscribeCount,!!e.subscribeButton.enabled,!!e.subscribeButton.classic,
e.channelId,!!e.subscribeButton.subscribed,t,a,W.player,!1);K.appendChild(t.element);W.N.push(t)}break;case "WEBSITE":W={Z:"div",CP:["ytp-ce-element","ytp-ce-website"],D:{tabindex:"0","aria-label":e.Gs||"","aria-hidden":"true"},j:[{Z:"div",Y:"ytp-ce-element-shadow"},{Z:"div",Y:"ytp-ce-expanding-overlay",j:[{Z:"div",Y:"ytp-ce-expanding-overlay-hider"},{Z:"div",Y:"ytp-ce-expanding-overlay-background"},{Z:"div",Y:"ytp-ce-expanding-overlay-content",j:[{Z:"div",Y:"ytp-ce-expanding-overlay-body",j:[{Z:"div",
Y:"ytp-ce-expanding-overlay-body-padding",j:[{Z:"div",Y:"ytp-ce-website-title",D:{dir:g.Qb(e.title||"")},d2:e.title},{Z:"div",Y:"ytp-ce-website-metadata",d2:e.metadata},{Z:"a",CP:["ytp-ce-website-goto","ytp-ce-link"],D:{href:AE(W,e.targetUrl),target:"_blank",tabindex:"-1"},d2:e.callToAction}]}]}]}]},{Z:"div",Y:"ytp-ce-expanding-image",D:On(e)},{Z:"div",Y:"ytp-ce-expanding-icon",D:BDJ(e.iconUrl)}]};l=new g.x(W);break;case "CREATOR_MERCHANDISE":l="",e.productPrice&&(l={Z:"div",Y:"ytp-ce-merchandise-price-container",
j:[{Z:"div",Y:"ytp-ce-merchandise-price",d2:e.productPrice}]},e.additionalFeesText&&l.j.push({Z:"div",Y:"ytp-ce-merchandise-additional-fees",d2:e.additionalFeesText})),W={Z:"div",CP:["ytp-ce-element","ytp-ce-merchandise"],D:{tabindex:"0","aria-label":e.Gs||"","aria-hidden":"true"},j:[{Z:"div",Y:"ytp-ce-element-shadow"},{Z:"div",Y:"ytp-ce-expanding-overlay",j:[{Z:"div",Y:"ytp-ce-expanding-overlay-hider"},{Z:"div",Y:"ytp-ce-expanding-overlay-background"},{Z:"div",Y:"ytp-ce-expanding-overlay-content",
j:[{Z:"div",Y:"ytp-ce-expanding-overlay-body",j:[{Z:"div",Y:"ytp-ce-expanding-overlay-body-padding",j:[{Z:"div",Y:"ytp-ce-merchandise-title",D:{dir:g.Qb(e.title||"")},d2:e.title},l,{Z:"div",Y:"ytp-ce-merchandise-metadata",d2:e.metadata},{Z:"a",CP:["ytp-ce-merchandise-goto","ytp-ce-link"],D:{href:AE(W,e.targetUrl),target:"_blank",tabindex:"-1"},d2:e.callToAction}]}]}]}]},{Z:"div",Y:"ytp-ce-expanding-image",D:On(e)},{Z:"div",Y:"ytp-ce-merchandise-invideo-cta-container",j:[{Z:"div",Y:"ytp-ce-merchandise-invideo-cta",
d2:e.callToAction||void 0}]}]},l=new g.x(W)}e.isPlaceholder&&g.tc(l.element,"ytp-ce-placeholder");return l},On=function(W){if(W.tL)var e=W.tL.thumbnails;
return BDJ(e?e[e.length-1].url:null)},BDJ=function(W){return W?{style:"background-image: url("+W+")"}:{}},SHK=function(W,e,l){function K(M){M&&(e.listen("blur",function(){M.style.display!="none"&&W.KP&&M.focus()}),e.G(M,"focus",a),e.G(M,"blur",r))}
function t(M){W.B+=M;W.B>0?(g.tc(e.element,"ytp-ce-force-expand"),L5(W,l.id,!0)):(g.rw(e.element,"ytp-ce-force-expand"),g.rw(e.element,"ytp-ce-element-hover"),L5(W,l.id,!1))}
function a(){t(1)}
function r(){t(-1)}
e.listen("mouseenter",function(){h9_(W,e,l)});
e.listen("mouseleave",function(){oKK(W,e,l)});
W.player.U().K||e.listen("click",function(){g.tc(e.element,"ytp-ce-element-hover")});
e.listen("click",function(M){gKC(W,l,M)});
e.listen("keypress",function(M){gKC(W,l,M)});
e.listen("focus",function(){h9_(W,e,l)});
e.listen("blur",function(){oKK(W,e,l)});
e.listen("touchstart",function(){h9_(W,e,l)});
var b=g.jS("ytp-ce-expanding-overlay-hider",e.element);b&&e.G(b,"touchstart",function(M){M.stopPropagation();g.rw(e.element,"ytp-ce-element-hover");g.rw(e.element,"ytp-ce-force-expand")});
e.listen("keydown",function(M){W.KP=M.keyCode===9&&!M.shiftKey});
K(g.jS("ytp-sb-subscribe",e.element));K(g.jS("ytp-sb-unsubscribe",e.element));e.listen("focus",a);e.listen("blur",r)},gKC=function(W,e,l){if(e.targetUrl&&(!l||l.type!=="keypress"||l.keyCode===13)){for(var K=l.target;K&&!g.lT(K,"ytp-ce-element");){g.lT(K,"subscribe-label")&&pXx(W,e);
if(g.lT(K,"ytp-ce-channel-subscribe"))return;K=K.parentElement||null}if(!K||g.lT(K,"ytp-ce-element-hover")){l.preventDefault();l.stopPropagation();if(K=W.K[e.id])oKK(W,K,e),K.element.blur();if(l.ctrlKey||l.metaKey||e.QkT==="new")pXx(W,e),W.player.sendVideoStatsEngageEvent(17,void 0),W.player.pauseVideo(),l=g.EH(AE(W,e.targetUrl)),l=g.Dh(l),g.fX(l,void 0,e.sessionData);else{var t=g.nn(W.player.U())||W.player.getVideoData().IQ,a=function(){var r=AE(W,e.targetUrl),b=e.sessionData,M=e.watchEndpoint,w=
g.i1(r);t&&w&&(w.v||w.list)?W.player.qf(w.v,b,w.list,!1,void 0,M||void 0):g.q$(r,b)};
pXx(W,e,function(){W.player.sendVideoStatsEngageEvent(17,a)})}}}},AE=function(W,e){W=W.player.U();
if(e){if(e.startsWith("//"))return W.protocol+":"+e;if(e.startsWith("/"))return g.lY(W)+e}else return"";return e},h9_=function(W,e,l){g.lT(e.element,"ytp-ce-element-hover")||(l.type==="VIDEO"||l.type==="PLAYLIST"?g.tc(e.element,"ytp-ce-element-hover"):W.player.U().K?(new g.IP(function(){g.tc(e.element,"ytp-ce-element-hover")},200)).start():g.tc(e.element,"ytp-ce-element-hover"),DH(W,l.jrS),L5(W,l.id,!0))},oKK=function(W,e,l){g.rw(e.element,"ytp-ce-element-hover");
g.rw(e.element,"ytp-ce-force-expand");L5(W,l.id,!1)},L5=function(W,e,l){W.X&&(l?W.C.show():W.C.hide());
for(var K=g.u(Object.keys(W.K)),t=K.next();!t.done;t=K.next())t=t.value,t!==e&&g.bT(W.K[t].element,"ytp-ce-element-shadow-show",l)},DH=function(W,e,l){function K(){a||(t++,t===e.length&&(r.stop(),l&&l()))}
if(!e||e.length===0||FN(W))l&&l();else{e=VNv(W,e);var t=0,a=!1,r=new g.IP(function(){a=!0;l&&l()},1E3,W);
r.start();for(W=0;W<e.length;W++)g.PD(e[W],K)}},pXx=function(W,e,l){DH(W,e.clickUrls,l);
(W=g.pc())&&e.rSN&&g.tr(W,e.visualElement)},VNv=function(W,e){var l=W.player.getVideoData().clientPlaybackNonce;
W=W.player.getCurrentTime().toFixed(2);l={CPN:l,AD_CPN:l,MT:W};W=[];for(var K=0;K<e.length;K++)W.push(sNv(e[K],l));return W},sNv=function(W,e){return W.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(l){var K=unescape(l);
K=K.substring(1,K.length-1);return e[K]?escape(e[K]):l})},ZpC=function(W){return typeof W==="string"?W:""},v9=function(W,e,l){for(var K in e)if(e[K]===W)return W;
return l},Fu3=function(W,e,l,K){this.value=W;
this.target=e;this.showLinkIcon=l;this.L=K},JE=function(W){return W.value?W.value:null},En=function(W){if(!W)return null;
var e=g.EH(ZpC(W.value));e=g.Dh(e);if(!e)return null;var l=v9(W.target,YHK,"current");if(l==null)W=null;else{var K=W.show_link_icon;W=new Fu3(e,l,K==="true"||K==="false"?K==="true":!0,W.pause_on_navigation!=null?W.pause_on_navigation:!0)}return W},OpK=function(W,e,l){this.type=W;
this.trigger=e;this.url=l},DVK=function(W){if(!W)return null;
var e=v9(W.type,A6J),l=v9(W.trigger,Luk);W=W.url;W=Array.isArray(W)&&W.length?W[0]:W;W=En(W?W:null);return e?new OpK(e,l,W):null},vKp=function(W,e,l,K,t){this.id=W;
this.type=e;this.style=l;this.data=t;this.action=K||[]},J6x=function(W,e){return g.yJ(W.action,e)},EKn=function(W,e){this.context=W;
this.L=e},Hpz=function(W){return W.customMessage?H9("div","iv-card-message",W.customMessage):""},P9=function(W,e){W="background-image: url("+W+");";
var l=[];e&&l.push(e);return{Z:"div",Y:"iv-card-image",D:{style:W},j:l}},PEC=function(W){if(!W.metaInfo||W.metaInfo.length===0)return"";
var e=[];W=g.u(W.metaInfo);for(var l=W.next();!l.done;l=W.next())e.push(H9("li","",l.value));return{Z:"ul",Y:"iv-card-meta-info",j:e}},H9=function(W,e,l){e?typeof e==="string"?e={"class":e}:Array.isArray(e)&&(e={"class":e.join(" ")}):e={};
e.dir=g.Qb(l);return{Z:W,D:e,d2:l}},qHk=function(W){if(!W.customMessage)return"";
var e=["iv-card-action","iv-card-primary-link"],l={};W.jj&&(e.push("iv-card-action-icon"),l.style="background-image: url("+W.jj+");");l.dir=g.Qb(W.customMessage);var K=[{Z:"span",d2:W.customMessage}];W.showLinkIcon&&(K.push("\u00a0"),K.push({Z:"span",Y:"iv-card-link-icon"}));return{Z:"div",CP:e,D:l,j:K}},qx=function(W,e,l,K){if(K){e=g.u(e);
for(var t=e.next();!t.done;t=e.next())W.L(t.value,K,l.id,l.sessionData,l.iN.click,5)}},fhv=function(W,e){this.merchant=W;
this.price=e},Gjk=function(W){var e;
(e=W)&&!(e=W.length>1?W.charAt(0)==="/"&&W.charAt(1)!=="/":W==="/")&&(e=W.replace(/^(https?:)?\/\//,"").split("/",1),e=!e||e.length<1||!e[0]?[]:e[0].toLowerCase().split(".").reverse(),e=e[0]==="com"&&e[1]==="youtube"||e[0]==="be"&&e[1]==="youtu");return e?W.indexOf("/redirect?")===-1:!1},TDk=function(W,e){return e?e:Gjk(W)?"current":"new"},f5=function(W,e){g.H.call(this);
var l=this;this.element=W;this.context=e;this.tS=!1;this.xS=new Map;this.jV=new Map;this.context.S.addEventListener(g.tF("annotations_module"),function(K){(K=l.xS.get(K))&&K.apply(l)});
this.context.S.addEventListener(g.aa("annotations_module"),function(K){(K=l.jV.get(K))&&K.apply(l)})},Gi=function(W,e,l,K,t,a,r){W.context.L.listen(e,"click",function(b){W.eF(l,K,t,a||[],r||0,b)});
W.context.L.listen(e,"touchstart",function(){W.tS=!1});
W.context.L.listen(e,"touchmove",function(){W.tS=!0})},xVz=function(W){var e;
return((e=g.f(W,g.vI))==null?0:e.url)?g.f(W,g.vI).url:(W=g.f(W,g.mj))&&W.videoId?(e="/watch?v="+W.videoId,W.playlistId&&(e+="&list="+W.playlistId),W.index&&(e+="&index="+W.index),W.startTimeSeconds&&(e+="&t="+W.startTimeSeconds),e):null},Ti=function(W,e,l){return{xN:(W.impressionLoggingUrlsV2s||[]).map(function(K){return K.baseUrl||""}),
click:(l.loggingUrls||[]).map(function(K){return K.baseUrl||""}),
close:(e.dismissLoggingUrlsV2s||[]).map(function(K){return K.baseUrl||""}),
fM:(e.impressionLoggingUrlsV2s||[]).map(function(K){return K.baseUrl||""}),
Ah:(e.clickLoggingUrlsV2s||[]).map(function(K){return K.baseUrl||""})}},Ihs=function(W,e,l){f5.call(this,e,l);
var K=this;this.S=W;this.eventId=null;this.Sc=this.Wx=this.VT=this.X=this.isInitialized=!1;this.cards=[];this.Qr=this.N=this.Bx=this.C=this.nP=this.L=null;this.KP=[];this.ET=this.B=this.A2=this.Hx=null;this.V=0;this.Rr=new g.IP(function(){},l.OT.Hm?4E3:3E3);
g.P(this,this.Rr);this.eV=new g.IP(function(){});
g.P(this,this.eV);this.Zm=new EKn(l,function(t,a,r,b,M,w){Gi(K,t,a,r,b,M,w)});
this.T=new g.x({Z:"div",Y:"iv-drawer",D:{id:"iv-drawer"},j:[{Z:"div",Y:"iv-drawer-header",D:{"aria-role":"heading"},j:[{Z:"span",Y:"iv-drawer-header-text"},{Z:"button",CP:["iv-drawer-close-button","ytp-button"],D:{"aria-label":"Hide cards",tabindex:"0"}}]},{Z:"div",Y:"iv-drawer-content"}]});g.P(this,this.T);this.J=this.T.element;this.yr=new g.eC(this.T,330);g.P(this,this.yr);this.LN=g.jS("iv-drawer-header-text",this.J);this.K=g.jS("iv-drawer-content",this.J);this.addCueRange(0,l.videoData.lengthSeconds*
1E3,"",function(){K.VT&&Ib(K,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(K.VT=K.X)&&yB(K)});
this.GT=new g.DF(this);g.P(this,this.GT);this.S.addEventListener("videodatachange",this.a$.bind(this))},y6v=function(W,e){e=e.data;
e.autoOpenMs&&W.addCueRange(e.autoOpenMs,0x8000000000000,"",function(){Ib(W,"YOUTUBE_DRAWER_AUTO_OPEN")});
e.autoCloseMs&&W.addCueRange(e.autoCloseMs,0x8000000000000,"",function(){yB(W)});
var l=e.headerText;g.UR(W.LN,l);W.N&&W.N.setAttribute("title",l);e.eventId&&(W.eventId=e.eventId);W.Hx=g.h8(e.trackingParams);W.B=g.h8(e.closeTrackingParams);W.A2=g.h8(e.iconTrackingParams)},nKK=function(W,e){var l=e.cardId?e.cardId:"cr:"+W.V,K=W.S.U().experiments.Ir("enable_error_corrections_infocard_web_client");
if(!e.content&&e.teaser.simpleCardTeaserRenderer&&K){var t=e.teaser.simpleCardTeaserRenderer,a=e.icon?e.icon.infoCardIconRenderer:null;e={id:l,timestamp:W.V,type:"simple",teaserText:g.dn(t.message),teaserDurationMs:Number(e.cueRanges[0].teaserDurationMs),startMs:Number(e.cueRanges[0].startCardActiveMs),autoOpen:!!e.autoOpen,sessionData:{},sponsored:!1,iN:{},SN:null,Ew:t.trackingParams?g.h8(t.trackingParams):null,A2:a&&a.trackingParams?g.h8(a.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,
jj:null,title:"",customMessage:"",url:null,onClickCommand:t.onTapCommand||null};n5(W,e)}else{var r;if((r=e.content)==null?0:r.simpleCardContentRenderer){if(!e.cueRanges.length)return;a=(t=e.content)==null?void 0:t.simpleCardContentRenderer;t=e.teaser.simpleCardTeaserRenderer;var b=e.icon?e.icon.infoCardIconRenderer:null;e={id:l,timestamp:W.V,type:"simple",teaserText:g.dn(t.message),teaserDurationMs:Number(e.cueRanges[0].teaserDurationMs),startMs:Number(e.cueRanges[0].startCardActiveMs),autoOpen:!!e.autoOpen,
sessionData:zi(W,l,e,a),sponsored:!1,iN:Ti(a,t,a.command),SN:a.trackingParams?g.h8(a.trackingParams):null,Ew:t.trackingParams?g.h8(t.trackingParams):null,A2:b&&b.trackingParams?g.h8(b.trackingParams):null,imageUrl:mg(a.image.thumbnails,290).url,displayDomain:a.displayDomain?g.dn(a.displayDomain):null,showLinkIcon:!!a.showLinkIcon,jj:null,title:a.title?g.dn(a.title):"",customMessage:a.callToAction?g.dn(a.callToAction):"",url:g.f(a.command,g.vI).url?En({pause_on_navigation:!W.context.videoData.isLivePlayback,
target:"new",value:g.f(a.command,g.vI).url}):null,onClickCommand:null};n5(W,e)}else{var M;if((M=e.content)==null?0:M.collaboratorInfoCardContentRenderer){if(!e.cueRanges.length)return;t=(a=e.content)==null?void 0:a.collaboratorInfoCardContentRenderer;a=e.teaser.simpleCardTeaserRenderer;b=e.icon?e.icon.infoCardIconRenderer:null;e={id:l,timestamp:W.V,type:"collaborator",teaserText:g.dn(a.message),teaserDurationMs:Number(e.cueRanges[0].teaserDurationMs),startMs:Number(e.cueRanges[0].startCardActiveMs),
autoOpen:!!e.autoOpen,sessionData:zi(W,l,e,t),sponsored:!1,iN:Ti(t,a,t.endpoint),SN:t.trackingParams?g.h8(t.trackingParams):null,Ew:a.trackingParams?g.h8(a.trackingParams):null,A2:b&&b.trackingParams?g.h8(b.trackingParams):null,channelId:g.f(t.endpoint,g.hP).browseId,customMessage:t.customText?g.dn(t.customText):null,profileImageUrl:mg(t.channelAvatar.thumbnails,290).url,title:t.channelName?g.dn(t.channelName):"",metaInfo:[t.subscriberCountText?g.dn(t.subscriberCountText):""],url:En({pause_on_navigation:!W.context.videoData.isLivePlayback,
target:"new",value:g.f(t.endpoint,g.hP).canonicalBaseUrl?g.f(t.endpoint,g.hP).canonicalBaseUrl:"/channel/"+g.f(t.endpoint,g.hP).browseId}),onClickCommand:null};n5(W,e)}else{var w;if((w=e.content)==null?0:w.playlistInfoCardContentRenderer){if(!e.cueRanges.length)return;t=(b=e.content)==null?void 0:b.playlistInfoCardContentRenderer;a=e.teaser.simpleCardTeaserRenderer;b=e.icon?e.icon.infoCardIconRenderer:null;e={id:l,timestamp:W.V,type:"playlist",teaserText:g.dn(a.message),teaserDurationMs:Number(e.cueRanges[0].teaserDurationMs),
startMs:Number(e.cueRanges[0].startCardActiveMs),autoOpen:!!e.autoOpen,sessionData:zi(W,l,e,t),sponsored:!1,iN:Ti(t,a,t.action),SN:t.trackingParams?g.h8(t.trackingParams):null,Ew:a.trackingParams?g.h8(a.trackingParams):null,A2:b&&b.trackingParams?g.h8(b.trackingParams):null,hC:mg(t.playlistThumbnail.thumbnails,258).url,customMessage:t.customMessage?g.dn(t.customMessage):null,playlistVideoCount:g.dn(t.playlistVideoCount),title:t.playlistTitle?g.dn(t.playlistTitle):"",metaInfo:[t.channelName?g.dn(t.channelName):
"",t.videoCountText?g.dn(t.videoCountText):""],url:En({pause_on_navigation:!W.context.videoData.isLivePlayback,target:"new",value:xVz(t.action)}),onClickCommand:null};n5(W,e)}else{var U;if((U=e.content)==null?0:U.videoInfoCardContentRenderer){if(!e.cueRanges.length)return;var C;t=(C=e.content)==null?void 0:C.videoInfoCardContentRenderer;a=e.teaser.simpleCardTeaserRenderer;b=e.icon?e.icon.infoCardIconRenderer:null;e={id:l,timestamp:W.V,type:"video",teaserText:g.dn(a.message),teaserDurationMs:Number(e.cueRanges[0].teaserDurationMs),
startMs:Number(e.cueRanges[0].startCardActiveMs),autoOpen:!!e.autoOpen,sessionData:zi(W,l,e,t),sponsored:!1,iN:Ti(t,a,t.action),SN:t.trackingParams?g.h8(t.trackingParams):null,Ew:a.trackingParams?g.h8(a.trackingParams):null,A2:b&&b.trackingParams?g.h8(b.trackingParams):null,hC:mg(t.videoThumbnail.thumbnails,258).url,videoDuration:t.lengthString?g.dn(t.lengthString):null,customMessage:t.customMessage?g.dn(t.customMessage):null,title:t.videoTitle?g.dn(t.videoTitle):"",metaInfo:[t.channelName?g.dn(t.channelName):
"",t.viewCountText?g.dn(t.viewCountText):""],isLiveNow:!!t.badge,url:En({pause_on_navigation:!W.context.videoData.isLivePlayback,target:"new",value:xVz(t.action)}),onClickCommand:null};n5(W,e)}}}}}W.V++},mg=function(W,e){for(var l=-1,K=-1,t=0;t<W.length;t++){if(W[t].height===e||W[t].width===290)return W[t];
((W[t].height||0)<e||(W[t].width||0)<290)&&(l<0||(W[l].height||0)<(W[t].height||0)||(W[l].width||0)<(W[t].width||0))?l=t:((W[t].height||0)>=e||(W[t].width||0)>=290)&&(K<0||(W[K].height||0)>(W[t].height||0)||(W[K].width||0)>(W[t].width||0))&&(K=t)}return W[K>=0?K:l]},zi=function(W,e,l,K){return{feature:l.feature?l.feature:"cards",
src_vid:W.context.videoData.videoId,annotation_id:e,ei:W.context.videoData.eventId||"",itct:K.trackingParams||""}},mVs=function(W,e){if(e=z9K(W,e))e===W.L&&(W.L=null),W.S.removeCueRange(e.aQ.id),g.MZ(e.EV),g.WO(W.cards,e),W.A6(),XN(W)},Ib=function(W,e,l){if(!W.X){W.yr.show();
W.nP=new g.IP(function(){g.tc(W.context.S.getRootNode(),g.TL.IV_DRAWER_OPEN)},0);
W.nP.start();W.GT.G(W.K,"mousewheel",function(r){W.Rr.start();r.preventDefault();r=r||window.event;var b=0;r.type=="MozMousePixelScroll"?b=0==(r.axis==r.HORIZONTAL_AXIS)?r.detail:0:window.opera?b=r.detail:b=r.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?r.wheelDeltaY/-30:r.wheelDeltaY/-1.2:r.wheelDelta/-1.6:r.wheelDeltaY/-3;if(r=b)W.K.scrollTop+=r});
W.X=!0;var K=g.pc();K&&W.Hx&&W.B&&g.iq(K,[W.Hx,W.B]);e={TRIGGER_TYPE:e};for(var t=g.u(W.cards),a=t.next();!a.done;a=t.next())a=a.value,a.FI||(a.FI=!0,XXK(W.context.logger,a.aQ.iN.xN,e)),K&&g.iq(K,[a.aQ.SN]);SM(W.S);l&&(W.C=new g.IP(function(){W.Bx=W.N;W.Qr.focus()},330),W.C.start())}},yB=function(W){W.X&&(W.yr.hide(),g.Z4(W.GT),g.rw(W.context.S.getRootNode(),g.TL.IV_DRAWER_OPEN),W.X=!1,SM(W.S),W.C&&W.C.stop(),W.C=new g.IP(function(){W.Bx&&(W.Bx.focus(),W.Bx=null)},330),W.C.start())},WAp=function(W){g.a3(W.Rx(),
[g.TL.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.Lg(W.S,W.J,5);W.IU();W.N=g.jS("ytp-cards-button",W.S.getRootNode());W.Qr=g.jS("iv-drawer-close-button",W.J);W.isInitialized=!0},jiU=function(W){W.KP.push(g.t2("iv-teaser-shown",W.Im,W));
W.KP.push(g.t2("iv-teaser-hidden",W.Csr,W));W.KP.push(g.t2("iv-teaser-clicked",W.D$,W));W.Sc=!0},ehK=function(W,e){var l;
return e.onClickCommand&&((l=g.f(e.onClickCommand,g.Vup))==null?void 0:l.targetId)==="engagement-panel-error-corrections"?(W.ET=e,!0):!1},l0K=function(W,e){W.ET=e;
var l=W.S.getVideoData();if(!l)return!1;l=g.g_(l);if(l==null?0:l.markersMap)for(var K,t=0;((K=l)==null?void 0:K.markersMap.length)>t;t++){var a=void 0,r=(a=l)==null?void 0:a.markersMap[t];if(r.key==="ERROR_CORRECTION_MARKERS"&&(a=void 0,(r=(a=r.value)==null?void 0:a.markers)&&r.length>0))return K=void 0,e.startMs=((K=g.f(r[0],g.UxV))==null?void 0:K.timeRangeStartMillis)||0,W.ET=null,!0}return!1},n5=function(W,e){if(!ehK(W,e)||l0K(W,e)){var l=i9t(W,e);
if(l){var K={aQ:e,EV:l.element,FI:!1};if(e.onClickCommand)W.S.W("web_infocards_teaser_show_logging_fix")&&(W.Sc||jiU(W),mVs(W,e.id),l=W.findLastIndex(K),g.aU(W.cards,l,0,K));else{W.isInitialized||WAp(W);mVs(W,e.id);var t=W.findLastIndex(K);g.aU(W.cards,t,0,K);l.iq(W.K,t);W.A6()}e.autoOpen?W.addCueRange(e.startMs,0x8000000000000,e.id,function(){W.X||(W.L=K,XN(W),KAK(W,K),Ib(W,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(l=W.context.S.getCurrentTime()*1E3,l<5E3&&l>e.startMs&&tis(W,K),W.addCueRange(e.startMs,
e.startMs+1,e.id,function(){tis(W,K)}),XN(W))}}},i9t=function(W,e){switch(e.type){case "simple":W=W.Zm;
var l=e.displayDomain?{Z:"div",Y:"iv-card-image-text",d2:e.displayDomain}:void 0;var K=qHk(e);l={Z:"div",CP:["iv-card"],j:[{Z:"a",Y:"iv-click-target",D:{href:e.url?JE(e.url)||"":""},j:[P9(e.imageUrl,l),{Z:"div",Y:"iv-card-content",j:[H9("h2",void 0,e.title),K]}]}]};l=new g.x(l);qx(W,g.X8("iv-click-target",l.element),e,e.url);e=l;break;case "collaborator":W=W.Zm;l={Z:"div",CP:["iv-card","iv-card-channel"],j:[{Z:"a",CP:["iv-click-target"],D:{href:JE(e.url)||"","data-ytid":e.channelId},j:[P9(e.profileImageUrl),
{Z:"div",Y:"iv-card-content",j:[Hpz(e),{Z:"h2",Y:"iv-card-primary-link",d2:e.title},PEC(e)]}]}]};l=new g.x(l);qx(W,g.X8("iv-click-target",l.element),e,e.url);e=l;break;case "playlist":W=W.Zm;l={Z:"div",CP:["iv-card","iv-card-playlist"],j:[{Z:"a",Y:"iv-click-target",D:{href:JE(e.url)||""},j:[P9(e.hC,{Z:"div",Y:"iv-card-image-overlay",j:[{Z:"span",Y:"iv-card-playlist-video-count",d2:e.playlistVideoCount}]}),{Z:"div",Y:"iv-card-content",j:[Hpz(e),H9("h2","iv-card-primary-link",e.title),PEC(e)]}]}]};
l=new g.x(l);qx(W,g.X8("iv-click-target",l.element),e,e.url);e=l;break;case "productListing":W=W.Zm;var t=e.offers.length!=0;l=["iv-card"];K="";var a=qHk(e);t&&(l.push("iv-card-product-listing"),K="iv-card-primary-link",a=e.offers[0],t=[],a.price&&t.push({Z:"div",Y:"iv-card-offer-price",d2:a.price}),a.merchant&&t.push({Z:"div",Y:"iv-card-offer-merchant",d2:a.merchant}),a={Z:"div",j:t});t=e.url?JE(e.url)||"":"";l={Z:"div",CP:l,D:{tabindex:"0"},j:[{Z:"a",CP:["iv-card-image","iv-click-target"],D:{style:"background-image: url("+
e.imageUrl+");",href:t,"aria-hidden":"true",tabindex:"-1"}},{Z:"div",Y:"iv-card-content",j:[e.sponsored?{Z:"div",Y:"iv-card-sponsored",j:["Sponsored",{Z:"div",Y:"iv-ad-info-container",j:[{Z:"div",Y:"iv-ad-info",d2:"{{adInfo}}"},{Z:"div",Y:"iv-ad-info-icon-container",j:[{Z:"div",Y:"iv-ad-info-icon"},{Z:"div",Y:"iv-ad-info-callout"}]}]}]}:"",{Z:"a",Y:"iv-click-target",D:{href:t},j:[H9("h2",K,e.title),a]}]}]};l=new g.x(l);K=g.aE("span");g.UR(K,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
l.Q0(K,"adInfo");qx(W,g.X8("iv-click-target",l.element),e,e.url);e=l;break;case "video":W=W.Zm;K=e.videoDuration?{Z:"span",Y:"iv-card-video-duration",d2:e.videoDuration}:void 0;a=e.isLiveNow?{Z:"span",CP:["yt-badge","yt-badge-live"],d2:"LIVE NOW"}:null;t={Z:"div",CP:["iv-card","iv-card-video"],j:[{Z:"a",Y:"iv-click-target",D:{href:((l=e.url)==null?void 0:JE(l))||""},j:[P9(e.hC,K),{Z:"div",Y:"iv-card-content",j:[Hpz(e),H9("h2","iv-card-primary-link",e.title),PEC(e),a]}]}]};l=new g.x(t);qx(W,g.X8("iv-click-target",
l.element),e,e.url);e=l;break;default:return null}return e},a02=function(W){if(W.L)return W.L.aQ.type==="productListing";
if(W.S.W("enable_wn_infocards")){var e;return!((e=W.cards)==null||!e.length)&&g.pq(W.cards,function(l){return l.aQ.type==="productListing"})}return g.pq(W.cards,function(l){return l.aQ.type==="productListing"})},XN=function(W){g.bT(W.S.getRootNode(),"ytp-cards-shopping-active",a02(W))},tis=function(W,e){if(!g.lT(W.S.getRootNode(),"ytp-cards-teaser-shown")){if(W.L!==e){var l=g.pc(),K=W.L?W.L.aQ.A2:W.A2;
l&&K&&g.K4(l,[K]);W.L=e;XN(W)}(l=W.isInitialized&&W.Rx().style.display=="none")||(l=W.context.S.getPlayerState(),K=l===0&&W.context.S.getCurrentTime()===0,l=!(l===1||l===3||K));l||e.aQ.teaserDurationMs&&W.S.iK(!0,{teaserText:e.aQ.teaserText,durationMs:e.aQ.teaserDurationMs,onClickCommand:e.aQ.onClickCommand});W.eV.isActive()||((!W.X||!W.Rr.isActive()&&W.Wx)&&KAK(W,e),W.eV.start(910+e.aQ.teaserDurationMs))}},KAK=function(W,e){W.T.cz?(e=new p5([0,
W.K.scrollTop],[0,e.EV.offsetTop],600,wX3),W.context.X.listen(e,"animate",function(l){W.K.scrollTop=l.y}),W.context.X.listen(e,"finish",function(l){W.K.scrollTop=l.y}),e.play()):(W.T.Lq(!0),W.K.scrollTop=e.EV.offsetTop,W.T.Lq(!1))},WE=function(W){return W.L&&W.L.aQ?W.L.aQ:W.cards[0]&&W.cards[0].aQ?W.cards[0].aQ:null},z9K=function(W,e){return g.yJ(W.cards,function(l){return l.aQ.id===e})},ea=function(W,e,l){f5.call(this,W,e);
this.annotation=l;this.isActive=!1},rOK=function(W){var e=W.annotation.data;
"start_ms"in e&&"end_ms"in e&&W.addCueRange(Number(e.start_ms),Number(e.end_ms),W.annotation.id,function(){W.show()},function(){W.hide()})},lB=function(W,e,l){ea.call(this,W,e,l);
this.K=null;this.B=!1;this.X=null;this.J=!1;this.L=this.V=this.C=null},kNJ=function(W,e){var l=l===void 0?0:l;
var K=ipx(e).width;g.dc(e,K);l=new $V3(e,[K,e.offsetTop],[K-K-l,e.offsetTop],200,MNK);g.P(W,l);W.context.X.listen(l,"begin",function(){g.BM(e,!0)});
l.play()},MiK=function(W,e){if(e.channel_name){var l=W.createElement({Z:"div",
CP:["iv-branding-context-name"],d2:e.channel_name}),K=W.createElement({Z:"div",CP:["iv-branding-context-subscribe"]}),t=e.standalone_subscribe_button_data;t&&(W.L=new g.Gt(t.subscribeText,t.subscribeCount,t.unsubscribeText,t.unsubscribeCount,!!t.enabled,!!t.classic,e.channel_id,!!t.subscribed,t.feature,e.session_data.itct,W.context.S,!1),W.L.iq(K));var a=W.createElement({Z:"div",CP:["iv-branding-context-subscribe-caret"]}),r=W.createElement({Z:"div",CP:["branding-context-container-inner"]});r.appendChild(a);
r.appendChild(l);r.appendChild(K);g.BM(r,!1);var b=W.createElement({Z:"div",CP:["branding-context-container-outer"]});b.appendChild(r);g.kL(b,"right",e.image_width+"px");g.kz(W.Rx(),b);W.X=new g.IP(function(){b9_(W,r,b)},500);
g.P(W,W.X);W.context.L.listen(W.Rx(),"mouseover",function(){$Wk(W,r,b,a,e.image_height)});
W.context.L.listen(W.Rx(),"mouseout",function(){W.X.start()})}},$Wk=function(W,e,l,K,t){W.X.stop();
if(!W.J){var a=g.S5(e);W.L||(e.style.width=g.QY(a.width,!0),l.style.width=g.QY(a.width,!0));g.kL(K,"top",a.height-Math.max(Math.min(a.height,t)/2+10,20)+"px");g.kL(K,"right","1px");W.J=!0;g.BM(e,!0);W.C=new g.IP(function(){g.tc(this.Rx(),"iv-branding-active")},0,W);
W.C.start()}},b9_=function(W,e,l){g.rw(W.Rx(),"iv-branding-active");
W.V=new g.IP(function(){g.BM(e,!1);W.L||(l.style.width=g.QY(0,!0))},250);
W.V.start();W.J=!1},wGk=function(W,e,l,K,t,a,r){this.L=W;
this.X=e;this.OT=l;this.videoData=K;this.logger=t;this.S=a;this.K=r},UWK=function(W,e,l){ea.call(this,W,e,l);
var K=this;this.N=this.isCollapsed=this.T=!1;this.V=5E3;this.K=this.X=this.L=this.J=null;this.B=this.createElement({Z:"div",CP:["iv-promo-contents"]});this.C=new g.IP(function(){K.L.setAttribute("aria-hidden","true");g.BM(K.X,!1);g.BM(K.K,!0)},700,this);
g.P(this,this.C)},Qi_=function(W){var e=W.annotation.data;
if(W.annotation.style==="cta")var l=6;else if(W.annotation.style==="video"||W.annotation.style==="playlist")l=7;W.V=e.collapsedelay_ms||W.V;var K=["iv-promo","iv-promo-inactive"];W.Rx().setAttribute("aria-hidden","true");W.Rx().setAttribute("aria-label","Promotion");W.Rx().tabIndex=0;var t=W.annotation.xj(),a=e.image_url;if(a){var r=W.createElement({Z:"div",CP:["iv-promo-img","iv-click-target"]});a=W.createElement({Z:"img",D:{src:a,"aria-hidden":"true"}});r.appendChild(a);e.video_duration&&!e.is_live?
(a=W.createElement({Z:"span",Y:"iv-promo-video-duration",d2:e.video_duration}),r.appendChild(a)):e.playlist_length&&(a=W.createElement({Z:"span",Y:"iv-promo-playlist-length",d2:e.playlist_length.toString()}),r.appendChild(a));t&&Gi(W,r,t,W.annotation.id,e.session_data,void 0,l)}t?(a=W.createElement({Z:"a",Y:"iv-promo-txt"}),g.PX(a,JE(t)),W.L=a):W.L=W.createElement({Z:"div",Y:"iv-promo-txt"});switch(W.annotation.style){case "cta":case "website":var b=W.createElement({Z:"p",j:[{Z:"strong",d2:e.text_line_1}]});
var M=W.createElement({Z:"p",j:[{Z:"span",Y:"iv-promo-link",d2:e.text_line_2}]});if(a=e.text_line_3){K.push("iv-promo-website-card-cta-redesign");var w=W.createElement({Z:"button",CP:["iv-promo-round-expand-icon","ytp-button"]});a=W.createElement({Z:"button",CP:["iv-button","iv-promo-button"],j:[{Z:"span",Y:"iv-button-content",d2:a}]});var U=W.createElement({Z:"div",Y:"iv-promo-button-container"});U.appendChild(a);t&&Gi(W,W.Rx(),t,W.annotation.id,e.session_data,void 0,l)}g.tc(W.L,"iv-click-target");
t&&Gi(W,W.L,t,W.annotation.id,e.session_data,void 0,l);break;case "playlist":case "video":b=W.createElement({Z:"p",j:[{Z:"span",d2:e.text_line_1}]}),M=W.createElement({Z:"p",j:[{Z:"strong",d2:e.text_line_2}]}),e.is_live&&(b=M,M=W.createElement({Z:"span",CP:["yt-badge","iv-promo-badge-live"],d2:"LIVE NOW"})),g.tc(W.L,"iv-click-target"),t&&Gi(W,W.L,t,W.annotation.id,e.session_data,void 0,l),K.push("iv-promo-video")}b&&W.L.appendChild(b);M&&W.L.appendChild(M);W.B.appendChild(W.L);U&&W.B.appendChild(U);
l=W.createElement({Z:"div",Y:"iv-promo-actions"});W.K=W.createElement({Z:"button",CP:["iv-promo-expand","ytp-button"]});W.K.title="Expand";W.context.L.listen(W.K,"click",function(C){CFv(W,5E3,C)});
l.appendChild(W.K);g.BM(W.K,!1);W.context.L.listen(W.Rx(),"mouseover",W.iPb,W);W.context.L.listen(W.Rx(),"mouseout",W.HPT,W);W.context.L.listen(W.Rx(),"touchend",function(C){CFv(W,5E3,C)});
W.X=W.createElement({Z:"button",CP:["iv-promo-close","ytp-button"]});W.X.title="Close";W.context.L.listen(W.X,"click",W.annotation.style==="cta"&&e.text_line_3?W.ST2:W.ZPr,W);l.appendChild(W.X);g.a3(W.Rx(),K);r&&(g.kz(W.Rx(),r),w&&r.appendChild(w));g.kz(W.Rx(),W.B);g.kz(W.Rx(),l)},CFv=function(W,e,l){l.stopPropagation();
dW3(W);Nfz(W,e);W.L.focus()},Rh3=function(W){W.isCollapsed||W.N||W.J||(g.tc(W.Rx(),"iv-promo-collapsed"),W.isCollapsed=!0,W.C.start())},dW3=function(W){W.C.stop();
W.isCollapsed&&(g.k0(W.Rx(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),W.isCollapsed=!1,W.L&&W.L.removeAttribute("aria-hidden"),g.BM(W.K,!1),g.BM(W.X,!0))},Nfz=function(W,e){W.J||(W.J=g.Lo(function(){u8p(this);
Rh3(this)},e,W))},u8p=function(W){W.J&&(g.Hf.clearTimeout(W.J),W.J=null)},cO2=function(W){this.S=W},XXK=function(W,e,l){e&&(l?iB(W,e.map(function(K){return g.pR(K,l)})):iB(W,e))},iB=function(W,e,l,K){var t=1,a=void 0,r=-1;
if(l){var b=!1;a=function(){t--;t||b||(clearTimeout(r),b=!0,l())};
r=setTimeout(function(){b=!0;l()},1E3)}e=g.u(e||[]);
for(var M=e.next();!M.done;M=e.next())M=M.value,t++,g.PD(M,a);K&&(t++,K!==0&&W.S.sendVideoStatsEngageEvent(K,a))},SVk=function(W){g.b3.call(this,W);
var e=this;this.KP=this.N=!1;this.loadNumber=0;this.V={};this.logger=new cO2(this.player);this.J=new g.DF(this);this.C=this.B=null;this.events=new g.DF(this);this.lZ=this.T=this.L=null;this.ET=[];g.P(this,this.J);this.J.G(this.player,"onVideoAreaChange",function(){e.publish("onVideoAreaChange")});
this.J.G(this.player,"onHideControls",function(){e.publish("onHideControls")});
this.J.G(this.player,"onShowControls",function(){e.publish("onShowControls")});
this.J.G(this.player,"resize",function(K){e.publish("resize",K)});
this.J.G(this.player,"presentingplayerstatechange",function(K){e.publish("presentingplayerstatechange",K)});
this.subscribe("presentingplayerstatechange",this.eK,this);this.subscribe("resize",this.Bc,this);this.player.U().Bx.subscribe("vast_info_card_add",this.aZ,this);g.P(this,this.events);this.Zm=this.createElement({Z:"div",Y:"video-custom-annotations"});this.K=new g.x({Z:"div",CP:["ytp-player-content","ytp-iv-player-content"]});g.P(this,this.K);g.Lg(this.player,this.K.element,4);this.K.hide();this.X=new g.x({Z:"div",CP:["ytp-iv-video-content"]});g.P(this,this.X);W=this.createElement({Z:"div",Y:"video-annotations"});
W.appendChild(this.Zm);this.X.element.appendChild(W);this.RA()&&this.load();var l=this.createElement({Z:"style"});(g.mA("HEAD")[0]||document.body).appendChild(l);this.addOnDisposeCallback(function(){g.MZ(l)});
if(W=l.sheet)W.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),W.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),W.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),W.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),W.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),W.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),W.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),W.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),W.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),W.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},Bf_=function(W){W=W.createElement({Z:"div",
CP:["annotation","annotation-type-custom"]});g.BM(W,!1);return W},hhp=function(W,e){e=!e.isCued()&&!g.I(e,1024);
W.K.Lq(e);W.X.Lq(e)},o$U=function(W,e,l){W.N=!0;
W.C=g.oh(e,l)},g$s=function(W,e){for(var l={},K=g.u(e.attributes),t=K.next();!t.done;t=K.next())t=t.value,l[t.name]=t.nodeValue;
for(K=0;K<e.childNodes.length;K++)if(t=e.childNodes[K],g.yV(t)&&t.nodeType==1){if(l[t.tagName])var a=l[t.tagName];else if(t.tagName==="data"){t.childNodes.length>0&&(a=t.childNodes[0].nodeValue,l[t.tagName]=typeof a==="string"?a.trim():a);continue}else a=[],l[t.tagName]=a;t&&t.tagName==="TEXT"?t.childNodes.length===1&&t.childNodes[0].nodeType===3?a.push(t.childNodes[0].nodeValue):a.push(""):t&&a.push(g$s(W,t))}return l},Z9s=function(W){var e=W.player.getVideoData();
if(e.yr){var l=W.player.U().Bx.get(e.videoId);if(l){var K={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(t,a,r){t=W.loadNumber;a=e.videoId;W.loaded&&W.loadNumber===t&&W.player.getVideoData().videoId===a&&(r=g.Ur(r)&&r.responseXML?r.responseXML:null)&&pGk(W,r)}};
g.eW()&&(K.onFinish=Vip(W,K.onFinish));K.postParams={ic_only:"1"};six(K,l);W.N=!0;g.oh(e.yr,K)}}},six=function(W,e){W.method="POST";
W.postParams=W.postParams||{};e.J6&&(W.postParams.ic_coll=e.J6);e.Xe&&(W.postParams.ic_xml=e.Xe);e.Z2&&(W.postParams.ic_track=e.Z2)},FA2=function(W){var e=new g.x({Z:"div"});
g.BM(e.element,!1);var l=new Ihs(W.player,e.element,Ka(W));g.P(l,e);e.iq(W.K.element);l.wy();return l},O9J=function(W,e){var l,K;
if(e=(l=e.getWatchNextResponse())==null?void 0:(K=l.cards)==null?void 0:K.cardCollectionRenderer)W.KP=!0,YVs(W,e),e.headerText&&W.lZ&&(l=g.dn(e.headerText),W.lZ.setAttribute("title",l))},Ka=function(W){if(!W.T){var e=new UVn(W);
g.P(W,e);var l=new g.Ai(W);g.P(W,l);W.T=new wGk(e,l,W.player.U(),W.player.getVideoData(),W.logger,W.player,W.aG)}return W.T},pGk=function(W,e){var l=!1,K=e.getElementsByTagName("annotations");
if(K&&!(K.length<1)&&(K=K[0].getAttribute("itct"))){var t=g.pc();if(t){var a=g.gt();a&&g.mf(g.Ig)(void 0,t,a,[g.h8(K)])}}e=e.getElementsByTagName("annotation");for(K=0;K<e.length;K++){a=g$s(W,e[K]);t=null;try{if(a){var r=a.id,b=/.+/;var M=typeof r==="string"&&b!=null&&r!=null&&r.match(b)?r:"";var w=v9(a.type,AO3),U=v9(a.style,LAv),C=ZpC(a.data),Q=C.length!==0?JSON.parse(C):{};var d=a.action;a=DVK;if(d==null)var N=null;else if(g.IG(d)){b=[];for(var S=g.u(d),h=S.next();!h.done;h=S.next()){var V=a(h.value);
V&&b.push(V)}N=b}else{var Y=a(d);N=Y?[Y]:[]}t=M&&w?new vKp(M,w,U,N,Q):null}else t=null}catch(iC){}if(t)if(t.type==="branding"||t.type==="promotion"){a=W;b=t;var A=Bf_(a),v=null;switch(b.type){case "branding":if(a.player.U().cw)break;a.K.element.appendChild(A);v=new lB(A,Ka(a),b);break;case "promotion":g.Lg(a.player,A,4),v=new UWK(A,Ka(a),b)}v&&v.wy();if(a=v)g.P(W,a),W.V[t.id]=a}else if(t.type==="card"||t.type==="drawer"){W.L||(W.L=FA2(W),g.P(W,W.L));if(t.type==="card"){A=W.L;var q=(l=t)&&l.data&&
l.data.card_type;t=l.data;if(q)switch(a=t.tracking||{},a={xN:a.impression,click:a.click,close:a.close,fM:a.teaser_impression,Ah:a.teaser_click},b=t.tracking_params||{},v=null,q){case "collaborator":l={id:l.id,timestamp:t.timestamp||0,type:t.card_type,teaserText:t.teaser_text,teaserDurationMs:t.teaser_duration_ms,startMs:t.start_ms,autoOpen:t.auto_open||!1,sessionData:t.session_data||{},sponsored:t.sponsored||!1,iN:a,SN:b.card?g.h8(b.card):null,Ew:b.teaser?g.h8(b.teaser):null,A2:b.icon?g.h8(b.icon):
null,channelId:t.channel_id,customMessage:t.custom_message?t.custom_message:null,profileImageUrl:t.image_url,title:t.title,metaInfo:t.meta_info,url:En({pause_on_navigation:t.pause_on_navigation,target:t.target||"new",value:t.url}),onClickCommand:null};n5(A,l);break;case "playlist":l={id:l.id,timestamp:t.timestamp||0,type:t.card_type,teaserText:t.teaser_text,teaserDurationMs:t.teaser_duration_ms,startMs:t.start_ms,autoOpen:t.auto_open||!1,sessionData:t.session_data||{},sponsored:t.sponsored||!1,iN:a,
SN:b.card?g.h8(b.card):null,Ew:b.teaser?g.h8(b.teaser):null,A2:b.icon?g.h8(b.icon):null,hC:t.image_url,playlistVideoCount:t.playlist_video_count,customMessage:t.custom_message?t.custom_message:null,title:t.title,metaInfo:t.meta_info,url:En({pause_on_navigation:t.pause_on_navigation,target:t.target||"new",value:t.url}),onClickCommand:null};n5(A,l);break;case "productListing":t.signin_url&&(v=En({target:"current",value:t.signin_url}));q=[];for(var X=t.offers||[],y=0;y<X.length;y++)q.push(new fhv(g.tO(X[y].merchant),
g.tO(X[y].price)));l={id:l.id,timestamp:t.timestamp||0,type:t.card_type,teaserText:t.teaser_text,teaserDurationMs:t.teaser_duration_ms,startMs:t.start_ms,autoOpen:t.auto_open||!1,sessionData:t.session_data||{},sponsored:t.sponsored||!1,iN:a,SN:b.card?g.h8(b.card):null,Ew:b.teaser?g.h8(b.teaser):null,A2:b.icon?g.h8(b.icon):null,imageUrl:t.image_url,displayDomain:t.display_domain?t.display_domain:null,showLinkIcon:!!t.show_link_icon,jj:t.button_icon_url?t.button_icon_url:null,title:t.title,customMessage:t.custom_message?
t.custom_message:null,url:En({pause_on_navigation:t.pause_on_navigation,target:t.target||"new",value:t.url}),JYT:v,dqP:t.signin_title?t.signin_title:void 0,Xhb:t.signin_message?t.signin_message:void 0,offers:q,onClickCommand:null};n5(A,l);break;case "simple":l={id:l.id,timestamp:t.timestamp||0,type:t.card_type,teaserText:t.teaser_text,teaserDurationMs:t.teaser_duration_ms,startMs:t.start_ms,autoOpen:t.auto_open||!1,sessionData:t.session_data||{},sponsored:t.sponsored||!1,iN:a,SN:b.card?g.h8(b.card):
null,Ew:b.teaser?g.h8(b.teaser):null,A2:b.icon?g.h8(b.icon):null,imageUrl:t.image_url,displayDomain:t.display_domain?t.display_domain:null,showLinkIcon:!!t.show_link_icon,jj:t.button_icon_url?t.button_icon_url:null,title:t.title,customMessage:t.custom_message?t.custom_message:null,url:En({pause_on_navigation:t.pause_on_navigation,target:t.target||"new",value:t.url}),onClickCommand:null};n5(A,l);break;case "video":l={id:l.id,timestamp:t.timestamp||0,type:t.card_type,teaserText:t.teaser_text,teaserDurationMs:t.teaser_duration_ms,
startMs:t.start_ms,autoOpen:t.auto_open||!1,sessionData:t.session_data||{},sponsored:t.sponsored||!1,iN:a,SN:b.card?g.h8(b.card):null,Ew:b.teaser?g.h8(b.teaser):null,A2:b.icon?g.h8(b.icon):null,hC:t.image_url,videoDuration:t.video_duration||null,customMessage:t.custom_message?t.custom_message:null,title:t.title,metaInfo:t.meta_info,isLiveNow:!!t.is_live_now,url:En({pause_on_navigation:t.pause_on_navigation,target:t.target||"new",value:t.url}),onClickCommand:null},n5(A,l)}}else y6v(W.L,t);l=!0}}l&&
(SM(W.player),W.Bc())},YVs=function(W,e){var l=!1;
W.L||(W.L=FA2(W),g.P(W,W.L));for(var K=g.u(e.cards||[]),t=K.next();!t.done;t=K.next())t=t.value,t.cardRenderer&&(nKK(W.L,t.cardRenderer),l=!0);if(l){var a;(a=W.player.getVideoData())!=null&&g.FX(a)||(l=W.L,K=e.headerText?g.dn(e.headerText):"",g.UR(l.LN,K),l.N&&l.N.setAttribute("title",K),l.context.videoData.eventId&&(l.eventId=l.context.videoData.eventId),l.Hx=e.trackingParams?g.h8(e.trackingParams):null,l.B=e.closeButton.infoCardIconRenderer.trackingParams?g.h8(e.closeButton.infoCardIconRenderer.trackingParams):
null,l.A2=e.icon.infoCardIconRenderer.trackingParams?g.h8(e.icon.infoCardIconRenderer.trackingParams):null,W.Bc());SM(W.player)}},DWp=function(W,e,l,K,t){if(!W.player.U().cw){var a=[];
e.navigationEndpoint&&g.f(e.navigationEndpoint,g.hP)&&g.f(e.navigationEndpoint,g.hP).browseId&&a.push(new OpK("openUrl","click",new Fu3("/channel/"+g.f(e.navigationEndpoint,g.hP).browseId,"new",!0,!0)));var r=e.watermark.thumbnails[0];K={channel_name:e.channelName,end_ms:e.endTimeMs,image_height:r.height,image_type:1,image_url:r.url,image_width:r.width,is_mobile:!1,session_data:{annotation_id:l,ei:t,feature:"iv",itct:e.trackingParams,src_vid:K},start_ms:e.startTimeMs};if(e.subscribeButton&&g.f(e.subscribeButton,
g.oz)){K.channel_id=g.f(e.subscribeButton,g.oz).channelId;var b;e=g.f(e.subscribeButton,g.oz);r=t=null;e.subscribed?(e.subscriberCountWithUnsubscribeText&&(t=g.dn(e.subscriberCountWithUnsubscribeText)),e.subscriberCountText&&(r=g.dn(e.subscriberCountText))):(e.subscriberCountText&&(t=g.dn(e.subscriberCountText)),e.subscriberCountWithSubscribeText&&(r=g.dn(e.subscriberCountWithSubscribeText)));var M,w=((M=g.f((b=e.signInEndpoint)==null?void 0:b.commandMetadata,g.C8))==null?void 0:M.url)||"";b={subscribeText:g.dn(e.unsubscribedButtonText),
subscribeCount:t||"",unsubscribeText:g.dn(e.subscribedButtonText),unsubscribeCount:r||"",enabled:e.enabled||!1,classic:!1,subscribed:e.subscribed||!1,feature:"iv",signInUrl:w};K.standalone_subscribe_button_data=b}a=new vKp(l,"branding","branding",a,K);b=Bf_(W);W.K.element.appendChild(b);a=new lB(b,Ka(W),a);a.wy();g.P(a,a);W.V[l]=a}},Vip=function(W,e){return function(){var l=g.FE.apply(0,arguments);
W.qg()||W.ET.push(g.HT.Qn(function(){e.apply(null,g.B(l))}))}},v$K=function(W){return W==="annotation-editor"||W==="live-dashboard"};
g.pg.prototype.iK=g.bC(45,function(W,e){var l=g.hg(this.us());l&&l.iK(W,e)});
var hE={},ob=null;g.it(p5,g.$0);g.k=p5.prototype;g.k.getDuration=function(){return this.duration};
g.k.play=function(W){if(W||this.L==0)this.progress=0,this.coords=this.K;else if(this.isPlaying())return!1;ge(this);this.startTime=W=g.eU();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.J=this.startTime;this.progress||this.Lr();this.zc("play");this.isPaused()&&this.zc("resume");this.L=1;var e=g.ma(this);e in hE||(hE[e]=this);ah_();r62(this,W);return!0};
g.k.stop=function(W){ge(this);this.L=0;W&&(this.progress=1);kj3(this,this.progress);this.onStop();this.PD()};
g.k.pause=function(){this.isPlaying()&&(ge(this),this.L=-1,this.zc("pause"))};
g.k.JS=function(){this.L==0||this.stop(!1);this.zc("destroy");p5.RB.JS.call(this)};
g.k.destroy=function(){this.dispose()};
g.k.IW=function(){this.zc("animate")};
g.k.zc=function(W){this.dispatchEvent(new bp3(W,this))};
g.it(bp3,g.qZ);g.it(VB,p5);VB.prototype.X=function(){};
VB.prototype.IW=function(){this.X();VB.RB.IW.call(this)};
VB.prototype.PD=function(){this.X();VB.RB.PD.call(this)};
VB.prototype.Lr=function(){this.X();VB.RB.Lr.call(this)};
g.it($V3,VB);$V3.prototype.X=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.R(UVn,g.H);g.k=UVn.prototype;g.k.listen=function(W,e,l,K){l=(0,g.XE)(l,K||this.K);W=g.BU(W,e,l);this.L.push(W);return W};
g.k.DE=function(W,e,l,K){l=(0,g.XE)(l,K||this.K);W=KuJ(W,e,l);this.L.push(W);return W};
g.k.ow=function(W){g.hh(W);g.WO(this.L,W)};
g.k.removeAll=function(){g.hh(this.L);this.L.length=0};
g.k.JS=function(){this.removeAll();g.H.prototype.JS.call(this)};g.R(dVs,g.b3);g.k=dVs.prototype;g.k.load=function(){g.b3.prototype.load.call(this);if(!FN(this)){var W=g.ryG(this.player.getVideoData());W?(W=QNn(W,NDs(this)),Yy(this,W,!1)):R9C(this)}};
g.k.unload=function(){Yy(this,null);this.J&&(this.J.abort(),this.J=null);g.b3.prototype.unload.call(this)};
g.k.S6=function(W,e){return FN(this)?W==="loadCustomEndscreenRenderer"?(W=QNn(e,"new"),Yy(this,W),!0):null:null};
g.k.getOptions=function(){return FN(this)?["loadCustomEndscreenRenderer"]:[]};
g.k.QT=function(){if(this.endscreen&&this.endscreen.elements){var W=this.player.getVideoContentRect();if(W&&W.width!==0&&W.height!==0){var e=this.player.getPlayerSize();if(e&&e.width!==0&&e.height!==0){var l=W.width/W.height;var K=0;for(var t=-1,a=0;a<JO2.length;a++){var r=Math.abs(e.width-JO2[a]);if(t===-1||K>=r)t=a,K=r}K=E$3[t];this.X&&g.kL(this.X.element,"outline-width",Math.max(e.width,e.height)+"px");for(e=0;e<this.endscreen.elements.length;++e)if(a=this.endscreen.elements[e].id,t=this.K[a],
r=this.V[a],t&&r){var b=r.width*l/r.aspectRatio,M=Math.round(r.width*W.width);a=Math.round(b*W.height);var w=W.left+Math.round(r.left*W.width),U=W.top+Math.round(r.top*W.height);g.cM(t.element,M,a);g.dc(t.element,w,U);g.k0(t.element,H9n);M>256||a>256?g.tc(t.element,"ytp-ce-large-round"):M>96||a>96?g.tc(t.element,"ytp-ce-medium-round"):g.tc(t.element,"ytp-ce-small-round");g.k0(t.element,PFK);M=r.left+r.width/2;r=r.top+b/2;g.tc(t.element,M<=.5&&r<=.5?"ytp-ce-top-left-quad":M>.5&&r<=.5?"ytp-ce-top-right-quad":
M<=.5&&r>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.k0(t.element,E$3);g.tc(t.element,K);(t=g.Wm(document,"div","ytp-ce-expanding-overlay-body",t.element)[0])&&g.kL(t,"height",a+"px")}}}}};
g.k.onCueRangeEnter=function(W){if(this.endscreen)if(W.getId()==="ytp-ce-in-endscreen")DH(this,this.endscreen.impressionUrls),(W=g.pc())&&this.endscreen.visualElement&&g.lq(W,this.endscreen.visualElement),this.L&&(g.tc(this.L,"ytp-ce-element-show"),this.L.removeAttribute("aria-hidden"),this.player.w$()?g.tc(this.L,"ytp-ce-hide-button-lower"):g.rw(this.L,"ytp-ce-hide-button-lower"));else{W=W.getId().substring(15);var e=this.K[W],l=this.V[W];g.tc(e.element,"ytp-ce-element-show");e.element.removeAttribute("aria-hidden");
e=this.player.getRootNode();g.tc(e,"ytp-ce-shown");DH(this,l.impressionUrls);(e=g.pc())&&g.lq(e,l.visualElement);this.player.U().B&&this.player.hS("endscreenelementshown",W)}};
g.k.onCueRangeExit=function(W){if(W.getId()==="ytp-ce-in-endscreen")this.L&&(g.rw(this.L,"ytp-ce-element-show"),this.L.setAttribute("aria-hidden","true"));else{W=W.getId().substring(15);var e=this.K[W];g.rw(e.element,"ytp-ce-element-show");e.element.setAttribute("aria-hidden","true");e=this.player.getRootNode();g.rw(e,"ytp-ce-shown");this.player.U().B&&this.player.hS("endscreenelementhidden",W)}};
g.k.TWS=function(W){var e=this;W.target===window&&(new g.IP(function(){for(var l=g.u(Object.values(e.K)),K=l.next();!K.done;K=l.next())g.k0(K.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.k.Lq=function(W){for(var e=g.u(Object.values(this.K)),l=e.next();!l.done;l=e.next())l=l.value,W?l.element.setAttribute("hidden",""):l.element.removeAttribute("hidden")};
g.k.Vq1=function(W){this.L&&this.player.getRootNode().removeChild(this.L);W&&(g.tc(W,"ytp-ce-hide-button-container"),this.L=W,g.Lg(this.player,this.L,4))};
var JO2=[346,426,470,506,570,640,853,1280,1920],E$3="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),PFK=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],H9n=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var YHK={oB2:"current",fL1:"new"};var A6J={CLOSE:"close",O4r:"openUrl",SUBSCRIBE:"subscribe"},Luk={m01:"click",CLOSE:"close",lK2:"hidden",Dfb:"rollOut",Igm:"rollOver",OAr:"shown"};vKp.prototype.xj=function(){var W=J6x(this,function(e){return e.type==="openUrl"&&e.url!=null});
return W?W.url:null};
var LAv={d0T:"anchored",SK:"branding",CHANNEL:"channel",RqS:"cta",W3x:"highlightText",d5T:"label",PLAYLIST:"playlist",POPUP:"popup",Jix:"speech",SUBSCRIBE:"subscribe",WQm:"title",VIDEO:"video",c$P:"website"},AO3={SK:"branding",yoP:"card",UUT:"drawer",C32:"highlight",YST:"marker",BzS:"promotion",TEXT:"text",xbr:"widget"};g.R(f5,g.H);g.k=f5.prototype;g.k.addCueRange=function(W,e,l,K,t){W=new g.ip(W,e,{id:l,namespace:"annotations_module"});K&&this.xS.set(W,K);t&&this.jV.set(W,t);this.context.S.Ax([W],1)};
g.k.wy=function(){this.context.K.subscribe("resize",this.A6,this)};
g.k.Rx=function(){return this.element};
g.k.eF=function(W,e,l,K,t,a){if(this.tS)return!1;a&&(a.stopPropagation(),a.preventDefault());this.navigate(W,l,K,t);return!1};
g.k.show=function(){};
g.k.hide=function(){};
g.k.destroy=function(){g.MZ(this.Rx())};
g.k.A6=function(){};
g.k.navigate=function(W,e,l,K){var t=this,a=JE(W);if(a){var r=TDk(a,W.target),b=function(){W.L&&t.context.S.pauseVideo();var M=t.context.videoData.IQ||!1,w=g.i1(a||"");M&&w&&(w.v||w.list)?t.context.S.qf(w.v,e,w.list,!1):g.fX(a||"",r==="current"?"_top":void 0,e)};
r==="new"&&(b(),b=null);iB(this.context.logger,l,b,K);Gjk(a)||(l=g.pc(),K=e.itct,l&&K&&g.tr(l,g.h8(K)))}};
g.k.JS=function(){this.xS.clear();this.jV.clear();g.H.prototype.JS.call(this)};
g.k.createElement=function(W){W=new g.x(W);g.P(this,W);return W.element};g.R(Ihs,f5);g.k=Ihs.prototype;g.k.a$=function(){this.ET&&n5(this,this.ET)};
g.k.isAvailable=function(){var W;if(W=!!this.cards.length)(W=this.S.getRootNode())?(W=g.S5(W),W=173<W.width&&173<W.height):W=!1;return W};
g.k.A6=function(){var W=this.isAvailable();g.BM(this.Rx(),W);g.bT(this.context.S.getRootNode(),g.TL.IV_DRAWER_ENABLED,W);SM(this.S)};
g.k.destroy=function(){this.S.iK(!1);try{this.S.getRootNode().removeChild(this.J)}catch(W){}g.aQ(this.KP);g.Z4(this.GT);this.nP&&this.nP.dispose();this.C&&this.C.dispose();f5.prototype.destroy.call(this)};
g.k.IU=function(){var W=this;this.context.L.listen(g.jS("iv-drawer-close-button",this.J),"click",this.Eh,this);this.context.L.listen(this.K,"touchend",function(){W.Rr.start()});
this.context.L.listen(this.K,"scroll",this.xH,this);this.context.K.subscribe("onHideControls",function(){W.Wx=!0});
this.context.K.subscribe("onShowControls",function(){W.Wx=!1});
this.context.K.subscribe("onVideoAreaChange",function(){W.Wx=g.lT(W.S.getRootNode(),"ytp-autohide")});
this.KP.push(g.t2("iv-button-shown",this.pzN,this));this.KP.push(g.t2("iv-button-hidden",this.ltT,this));jiU(this)};
g.k.findLastIndex=function(W){if(this.cards.length===0)return 0;var e=g.nC(this.cards,function(l){return W.aQ.startMs>l.aQ.startMs||W.aQ.startMs===l.aQ.startMs&&W.aQ.timestamp>=l.aQ.timestamp?!0:!1});
return e===-1?0:e+1};
g.k.Eh=function(){if(this.X){iB(this.context.logger,WE(this).iN.close);var W=g.pc();W&&this.B&&g.tr(W,this.B);yB(this)}};
g.k.xH=function(){g.bT(this.J,"iv-drawer-scrolled",this.K.scrollTop>0)};
g.k.pzN=function(){var W=g.pc(),e=WE(this);e=e?e.A2:this.A2;W&&e&&g.iq(W,[e])};
g.k.ltT=function(){var W=g.pc(),e=WE(this);e=e?e.A2:this.A2;W&&e&&g.K4(W,[e])};
g.k.Im=function(){var W=WE(this);iB(this.context.logger,W.iN.fM);var e=g.pc();if(e&&W)if(this.S.W("web_infocards_teaser_show_logging_fix")){var l=[];W.Ew&&l.push(W.Ew);W.A2&&l.push(W.A2);l.length>0&&g.iq(e,l)}else g.iq(e,[W.Ew,W.A2])};
g.k.Csr=function(){var W=g.pc(),e=WE(this);W&&e&&g.K4(W,[e.Ew])};
g.k.D$=function(W){var e=WE(this),l=g.pc();this.L?W?(W=this.context.logger,iB(W,e.iN.Ah),W.S.sendVideoStatsEngageEvent(4,void 0),l&&e.Ew&&g.tr(l,e.Ew)):(W=this.context.logger,iB(W,e.iN.Ah),W.S.sendVideoStatsEngageEvent(4,void 0),l&&e.A2&&g.tr(l,e.A2)):(W=this.context.logger,iB(W,e.iN.Ah),W.S.sendVideoStatsEngageEvent(4,void 0),l&&this.A2&&g.tr(l,this.A2))};g.R(ea,f5);ea.prototype.wy=function(){f5.prototype.wy.call(this);rOK(this)};
ea.prototype.show=function(){f5.prototype.show.call(this);var W=g.pc(),e=this.annotation.data;W&&e&&(e=e.session_data)&&g.iq(W,[g.h8(e.itct)])};
ea.prototype.hide=function(){f5.prototype.hide.call(this);var W=g.pc(),e=this.annotation.data;W&&e&&(e=e.session_data)&&g.K4(W,[g.h8(e.itct)])};g.R(lB,ea);
lB.prototype.show=function(){if(!this.isActive){ea.prototype.show.call(this);if(!this.B){g.tc(this.Rx(),"iv-branding");var W=this.annotation.data;this.K=this.createElement({Z:"img",CP:["branding-img","iv-click-target"],D:{"aria-label":"Channel watermark",src:W.image_url,width:W.image_width,height:W.image_height}});g.BM(this.K,!1);var e=this.createElement({Z:"button",CP:["branding-img-container","ytp-button"]});e.appendChild(this.K);this.Rx().appendChild(e);var l=this.annotation.xj();l&&Gi(this,e,
l,this.annotation.id,W.session_data);this.context.S.W("disable_branding_context")||MiK(this,W);this.B=!0}g.BM(this.Rx(),!0);this.isActive=!0;if(this.K){try{kNJ(this,this.K)}catch(K){}g.tc(this.context.S.getRootNode(),"ytp-branding-shown");this.context.S.getRootNode().style.setProperty("--branding-image-width",this.K.getAttribute("width")+"px")}}};
lB.prototype.hide=function(){this.isActive&&(ea.prototype.hide.call(this),g.BM(this.Rx(),!1),this.isActive=!1,g.rw(this.context.S.getRootNode(),"ytp-branding-shown"))};
lB.prototype.destroy=function(){this.L&&(this.L.dispose(),this.L=null);g.rw(this.context.S.getRootNode(),"ytp-branding-shown");ea.prototype.destroy.call(this)};g.R(UWK,ea);g.k=UWK.prototype;g.k.show=function(){this.isActive||(ea.prototype.show.call(this),this.T||(Qi_(this),this.T=!0),g.BM(this.Rx(),!0),g.Lo(function(){g.rw(this.Rx(),"iv-promo-inactive")},100,this),this.Rx().removeAttribute("aria-hidden"),this.isActive=!0,u8p(this),dW3(this),Nfz(this,this.V))};
g.k.hide=function(){this.isActive&&(g.tc(this.Rx(),"iv-promo-inactive"),this.isActive=!1,this.Rx().setAttribute("aria-hidden","true"))};
g.k.eF=function(W,e,l,K,t,a){return this.isCollapsed?!1:ea.prototype.eF.call(this,W,e,l,K,t,a)};
g.k.iPb=function(W){this.N=!0;CFv(this,500,W)};
g.k.HPT=function(){this.N=!1;Rh3(this)};
g.k.ZPr=function(W){W.stopPropagation();this.hide()};
g.k.ST2=function(W){W.stopPropagation();u8p(this);this.isCollapsed=!0;g.tc(this.Rx(),"iv-promo-collapsed-no-delay");this.C.start()};
g.k.destroy=function(){this.C.dispose();ea.prototype.destroy.call(this)};g.R(SVk,g.b3);g.k=SVk.prototype;g.k.S6=function(W,e){if(!v$K(this.player.U().playerStyle))return null;switch(W){case "loadCustomAnnotationsXml":return(W=g.GI(e))&&pGk(this,W),!0;case "removeCustomAnnotationById":return e&&this.L&&(mVs(this.L,e),SM(this.player)),!0}return null};
g.k.getOptions=function(){return v$K(this.player.U().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.k.RA=function(){var W=this.player.U(),e=this.player.getVideoData(),l=W.annotationsLoadPolicy||e.annotationsLoadPolicy;return g.eE(e)||this.player.isMutedByEmbedsMutedAutoplay()?!1:l===1&&!e.mm||W.Bx.get(e.videoId)||g.Yg(e)||g.Ok(e)?!0:!1};
g.k.Bc=function(){if(this.X){var W=this.player.fP().getVideoContentRect(!0);g.cM(this.X.element,W.width,W.height);g.dc(this.X.element,W.left,W.top)}if(this.L){var e=this.player.m3();W=this.L;e=e.width;g.bT(W.J,"iv-drawer-small",e<=426);g.bT(W.J,"iv-drawer-big",e>=1280)}};
g.k.eK=function(W){hhp(this,W.state);g.I(W.state,2)&&(this.w$()&&this.J$()&&this.player.getPresentingPlayerType()!==2&&this.lK(!1),this.iK(!1))};
g.k.load=function(){function W(r){var b=e.loadNumber;e.C=null;e.loaded&&e.loadNumber===b&&e.player.getVideoData().videoId===K&&(r=g.Ur(r)&&r.responseXML?r.responseXML:null)&&(pGk(e,r),g.tc(e.player.getRootNode(),"iv-module-loaded"))}
var e=this;g.b3.prototype.load.call(this);hhp(this,this.player.getPlayerStateObject());this.loadNumber++;var l=this.player.getVideoData(),K=l.videoId;g.eW()&&(W=Vip(this,W));var t={format:"XML",onFinish:W,onError:function(){e.C=null},
urlParams:{}};l.isPharma&&(t.urlParams.pharma="1");t.method="POST";t.withCredentials=!0;var a=this.player.U().Bx.get(K);a&&six(t,a);a=a&&(a.Xe||a.J6);if(!l.cX||a)l.yr?o$U(this,l.yr,t):(this.B=function(){if(!e.N)e.onVideoDataChange(t);var r=e.player.getVideoData();(r==null?0:g.FX(r))&&!e.KP&&O9J(e,r)},this.player.addEventListener("videodatachange",this.B));
g.Lg(this.player,this.X.element,4);this.Bc();(a=g.Yg(l))&&YVs(this,a);(a=g.Ok(l))&&a.featuredChannel&&DWp(this,a.featuredChannel,a.annotationId||"branding",l.videoId||null,l.eventId||null);this.lZ=g.jS("ytp-cards-button",this.player.getRootNode());g.FX(l)&&O9J(this,l)};
g.k.onVideoDataChange=function(W){var e=this.player.getVideoData();e.yr&&o$U(this,e.yr,W)};
g.k.unload=function(){this.player.Pw("annotations_module");for(var W=g.u(Object.keys(this.V)),e=W.next();!e.done;e=W.next())this.V[e.value].destroy();this.T=null;this.L&&(this.L.destroy(),this.L=null,SM(this.player));this.N=!1;this.C&&(this.C.abort(),this.C=null);this.KP=!1;this.V={};this.K.hide();g.b3.prototype.unload.call(this);this.X.detach();this.B&&(this.player.removeEventListener("videodatachange",this.B),this.B=null)};
g.k.aZ=function(W){W===this.player.getVideoData().videoId&&(this.loaded?Z9s(this):this.load())};
g.k.w$=function(){var W;return((W=this.L)==null?void 0:W.isAvailable())||this.KP};
g.k.J$=function(){return!!this.L&&this.L.X};
g.k.lK=function(W,e,l){e=e===void 0?!1:e;this.w$();this.L&&(W?l?Ib(this.L,l,e):Ib(this.L,"YOUTUBE_DRAWER_AUTO_OPEN",e):yB(this.L))};
g.k.iK=function(W,e){this.player.publish(W?"cardsteasershow":"cardsteaserhide",e)};
g.k.JS=function(){this.player.U().Bx.unsubscribe("vast_info_card_add",this.aZ,this);g.rw(this.player.getRootNode(),g.TL.IV_DRAWER_OPEN);for(var W=this.ET,e=g.HT,l=0,K=W.length;l<K;l++)e.YB(W[l]);this.ET.length=0;g.b3.prototype.JS.call(this)};
g.k.createElement=function(W){W=new g.x(W);g.P(this,W);return W.element};g.kt("annotations_module",SVk);g.kt("creatorendscreen",dVs);})(_yt_player);
